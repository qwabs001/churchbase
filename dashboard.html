<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GraceTrack Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2T92UksdQRVvoxMfooAo4lW4v8uON7RkHYp+3Tkd6Pr1vF0oA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body class="dashboard">
    <div class="d-flex">
      <aside class="sidebar p-4 d-flex flex-column gap-4">
        <div class="d-flex flex-column gap-3">
          <div class="brand">GraceTrack</div>
          <div>
            <span class="d-block small text-white-50">Logged in as</span>
            <span class="fw-semibold" id="sidebarUserName">Loading...</span>
          </div>
        </div>
        <nav class="nav flex-column gap-1" id="dashboardNav">
          <a class="nav-link active" href="#" data-section="overview"><i class="fa-solid fa-chart-pie"></i>Overview</a>
          <a class="nav-link" href="#" data-section="members"><i class="fa-solid fa-users"></i>Members</a>
          <a class="nav-link" href="#" data-section="attendance"><i class="fa-solid fa-calendar-check"></i>Attendance</a>
          <a class="nav-link" href="#" data-section="finance"><i class="fa-solid fa-coins"></i>Finance</a>
          <a class="nav-link" href="#" data-section="groups"><i class="fa-solid fa-people-group"></i>Groups & Events</a>
          <a class="nav-link" href="#" data-section="reports"><i class="fa-solid fa-file-chart-column"></i>Reports</a>
          <a class="nav-link" href="#" data-section="settings"><i class="fa-solid fa-gear"></i>Settings</a>
        </nav>
        <div class="mt-auto">
          <button class="btn btn-outline-light w-100" id="logoutBtn">
            <i class="fa-solid fa-arrow-right-from-bracket me-2"></i>Log out
          </button>
        </div>
      </aside>

      <div class="flex-grow-1 min-vh-100 bg-light">
        <header class="d-flex flex-wrap flex-md-nowrap justify-content-between align-items-center gap-3 p-4">
          <div>
            <h1 class="h3 fw-bold mb-1">Church Operations Hub</h1>
            <p class="text-muted mb-0">Stay in sync with your ministry data in real time.</p>
          </div>
          <div class="d-flex flex-wrap align-items-center gap-3">
            <div class="chip-light" id="currencyChip">Currency: ₵</div>
              <button class="btn btn-outline-primary d-flex align-items-center gap-2" id="currencyToggle" type="button" aria-label="Switch currency">
                <i class="fa-solid fa-coins"></i>
                <span id="currencyToggleLabel">Next: USD</span>
              </button>
            <button class="mode-toggle" id="modeToggle">
              <i class="fa-solid fa-circle-half-stroke"></i>
              <span>Light</span>
            </button>
            <button class="btn btn-outline-primary position-relative" id="notificationsBtn">
              <i class="fa-solid fa-bell"></i>
              <span class="badge rounded-pill bg-danger position-absolute top-0 start-100 translate-middle" id="notificationCount">0</span>
            </button>
          </div>
        </header>

        <main class="p-4 p-lg-5">
          <section data-section="overview" class="dashboard-section">
            <div class="row g-4">
              <div class="col-md-6 col-xl-3">
                <div class="card quick-stat-card">
                  <span class="label">Members</span>
                  <span class="value" id="statMembers">0</span>
                  <small class="text-muted">Active members</small>
                </div>
              </div>
              <div class="col-md-6 col-xl-3">
                <div class="card quick-stat-card">
                  <span class="label">Attendance Rate</span>
                  <span class="value" id="statAttendance">0%</span>
                  <small class="text-muted">Last 30 days</small>
                </div>
              </div>
              <div class="col-md-6 col-xl-3">
                <div class="card quick-stat-card">
                  <span class="label">This Month</span>
                  <span class="value" id="statFinance">₵0</span>
                  <small class="text-muted">Total giving</small>
                </div>
              </div>
              <div class="col-md-6 col-xl-3">
                <div class="card quick-stat-card">
                  <span class="label">Pending Approvals</span>
                  <span class="value" id="statApprovals">0</span>
                  <small class="text-muted">Awaiting manager review</small>
                </div>
              </div>
            </div>

            <div class="row g-4 mt-1">
              <div class="col-lg-7">
                <div class="card h-100 p-4">
                  <div class="d-flex justify-content-between align-items-center mb-4">
                    <h5 class="fw-semibold mb-0">Attendance Trends</h5>
                    <div class="chip-light" id="attendanceTrendRange">Last 12 weeks</div>
                  </div>
                  <canvas id="attendanceChart" height="260"></canvas>
                </div>
              </div>
              <div class="col-lg-5">
                <div class="card h-100 p-4">
                  <div class="d-flex justify-content-between align-items-center mb-4">
                    <h5 class="fw-semibold mb-0">Giving Breakdown</h5>
                    <div class="chip-light" id="financeTrendRange">Current month</div>
                  </div>
                  <canvas id="financeChart" height="260"></canvas>
                </div>
              </div>
            </div>

            <div class="card p-4 mt-4">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="fw-semibold mb-0">Automation Feed</h5>
                <small class="text-muted">Auto-refreshes every 5 minutes</small>
              </div>
              <div class="list-group" id="automationFeed"></div>
            </div>
          </section>

          <section data-section="members" class="dashboard-section d-none">
            <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
              <div>
                <h2 class="h4 fw-bold mb-1">Member Directory</h2>
                <p class="text-muted mb-0">Manage member profiles, ministries, and roles.</p>
              </div>
              <div class="d-flex flex-wrap gap-2">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#memberModal">
                  <i class="fa-solid fa-user-plus me-2"></i>Add member
                </button>
                <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#importModal">
                  <i class="fa-solid fa-file-import me-2"></i>Import CSV
                </button>
                <button class="btn btn-outline-success" id="exportMembersBtn">
                  <i class="fa-solid fa-file-export me-2"></i>Export
                </button>
              </div>
            </div>
            <div class="row g-3 mb-3">
              <div class="col-md-6 col-lg-4">
                <input type="search" class="form-control" id="memberSearch" placeholder="Search members" />
              </div>
              <div class="col-md-6 col-lg-4">
                <select class="form-select" id="memberFilter">
                  <option value="">Filter by ministry</option>
                </select>
              </div>
            </div>
            <div class="table-responsive table-modern">
              <table class="table align-middle mb-0" id="membersTable">
                <thead>
                  <tr>
                    <th scope="col">Member</th>
                    <th scope="col">Ministry</th>
                    <th scope="col">Role</th>
                    <th scope="col">Contact</th>
                    <th scope="col">Status</th>
                    <th scope="col" class="text-end">Actions</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <section data-section="attendance" class="dashboard-section d-none">
            <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
              <div>
                <h2 class="h4 fw-bold mb-1">Attendance Records</h2>
                <p class="text-muted mb-0">Track weekly services and group gatherings.</p>
              </div>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#attendanceModal">
                <i class="fa-solid fa-plus me-2"></i>Record attendance
              </button>
            </div>
            <div class="table-responsive table-modern">
              <table class="table align-middle mb-0" id="attendanceTable">
                <thead>
                  <tr>
                    <th>Event</th>
                    <th>Date</th>
                    <th>Present</th>
                    <th>Ave Attendance</th>
                    <th>Status</th>
                    <th class="text-end">Actions</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <section data-section="finance" class="dashboard-section d-none">
            <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
              <div>
                <h2 class="h4 fw-bold mb-1">Finance Ledger</h2>
                <p class="text-muted mb-0">Monitor offerings, tithes, and contributions.</p>
              </div>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#financeModal">
                <i class="fa-solid fa-money-check-dollar me-2"></i>Add record
              </button>
            </div>
            <div class="row g-4 mb-4">
              <div class="col-md-4">
                <div class="card quick-stat-card">
                  <span class="label">Total this week</span>
                  <span class="value" id="financeWeekTotal">₵0</span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card quick-stat-card">
                  <span class="label">Total this month</span>
                  <span class="value" id="financeMonthTotal">₵0</span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card quick-stat-card">
                  <span class="label">Yellow Card (Sun)</span>
                  <span class="value" id="financeYellowCard">₵0</span>
                </div>
              </div>
            </div>
            <div class="table-responsive table-modern">
              <table class="table align-middle mb-0" id="financeTable">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Category</th>
                    <th>Description</th>
                    <th>Amount</th>
                    <th>Status</th>
                    <th class="text-end">Actions</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <section data-section="groups" class="dashboard-section d-none">
            <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
              <div>
                <h2 class="h4 fw-bold mb-1">Groups & Events</h2>
                <p class="text-muted mb-0">Coordinate ministries, teams, and upcoming events.</p>
              </div>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#groupModal">
                <i class="fa-solid fa-people-group me-2"></i>Add group/event
              </button>
            </div>
            <div class="table-responsive table-modern">
              <table class="table align-middle mb-0" id="groupsTable">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Leader</th>
                    <th>Members</th>
                    <th>Next Event</th>
                    <th>Status</th>
                    <th class="text-end">Actions</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </section>

          <section data-section="reports" class="dashboard-section d-none">
            <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
              <div>
                <h2 class="h4 fw-bold mb-1">Reports & Exports</h2>
                <p class="text-muted mb-0">Generate attendance and finance summaries.</p>
              </div>
              <div class="d-flex flex-wrap gap-2">
                <button class="btn btn-outline-primary" id="generateAttendanceReport">
                  <i class="fa-solid fa-file-lines me-2"></i>Attendance PDF
                </button>
                <button class="btn btn-outline-primary" id="generateFinanceReport">
                  <i class="fa-solid fa-file-lines me-2"></i>Finance PDF
                </button>
                <button class="btn btn-outline-success" id="exportFinanceCsv">
                  <i class="fa-solid fa-file-csv me-2"></i>Finance CSV
                </button>
              </div>
            </div>
            <div class="row g-4">
              <div class="col-lg-6">
                <div class="card p-4 h-100">
                  <h5 class="fw-semibold">Attendance Summary</h5>
                  <div class="mt-3" id="attendanceSummary"></div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="card p-4 h-100">
                  <h5 class="fw-semibold">Finance Summary</h5>
                  <div class="mt-3" id="financeSummary"></div>
                </div>
              </div>
            </div>
          </section>

          <section data-section="settings" class="dashboard-section d-none">
            <div class="row g-4">
              <div class="col-lg-6">
                <div class="card p-4">
                  <h5 class="fw-semibold">Preferences</h5>
                  <form id="settingsForm" class="mt-3">
                    <div class="mb-3">
                      <label class="form-label">Currency</label>
                      <select class="form-select" id="settingsCurrency">
                        <option value="GHS">Ghana Cedi (₵)</option>
                        <option value="USD">US Dollar ($)</option>
                        <option value="GBP">British Pound (£)</option>
                        <option value="EUR">Euro (€)</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Theme</label>
                      <select class="form-select" id="settingsTheme">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                      </select>
                    </div>
                      <div class="mb-3">
                        <label class="form-label">Primary color</label>
                        <div class="d-flex flex-column flex-xl-row align-items-start align-items-xl-center gap-3">
                          <div class="d-flex align-items-center gap-2">
                            <input type="color" class="form-control form-control-color" id="primaryColorPicker" value="#00393a" title="Choose primary color" />
                            <span class="chip-light" id="primaryColorPreview">#00393A</span>
                          </div>
                          <div class="d-flex align-items-center gap-2">
                            <small class="text-muted text-uppercase fw-semibold">Accent</small>
                            <span class="accent-preview" id="accentColorPreview" title="Accent color"></span>
                          </div>
                          <button class="btn btn-outline-secondary btn-sm ms-0 ms-xl-auto" type="button" id="resetThemeBtn">
                            <i class="fa-solid fa-rotate-left me-1"></i>Reset to Default
                          </button>
                        </div>
                        <small class="text-muted d-block mt-2">Updates instantly across sidebar, buttons, and charts.</small>
                      </div>
                    <button class="btn btn-primary" type="submit">Save preferences</button>
                  </form>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="card p-4">
                  <h5 class="fw-semibold">Approval Roles</h5>
                  <form id="rolesForm" class="mt-3">
                    <div class="mb-3">
                      <label class="form-label">Manager Email</label>
                      <input type="email" class="form-control" id="managerEmail" required />
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Sub-Manager Email</label>
                      <input type="email" class="form-control" id="subManagerEmail" required />
                    </div>
                    <div class="alert alert-info" id="rolesInfo">
                      Approval requests will notify both manager and sub-manager. The first to approve completes the edit.
                    </div>
                    <button class="btn btn-primary" type="submit">Update roles</button>
                  </form>
                </div>
              </div>
              <div class="col-12">
                <div class="card p-4">
                  <h5 class="fw-semibold">Account</h5>
                  <div class="row g-3 align-items-center">
                    <div class="col-md-6">
                      <div class="d-flex align-items-center gap-3">
                        <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 56px; height: 56px">
                          <span class="h5 mb-0" id="accountInitials">GT</span>
                        </div>
                        <div>
                          <h6 class="mb-0" id="accountName">Loading...</h6>
                          <small class="text-muted" id="accountEmail">...</small>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6 text-md-end">
                      <button class="btn btn-outline-danger" id="deleteAccountBtn">
                        <i class="fa-solid fa-user-slash me-2"></i>Delete account
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <!-- Member Modal -->
    <div class="modal fade" id="memberModal" tabindex="-1" aria-labelledby="memberModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="memberModalLabel">Add member</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="memberForm">
              <input type="hidden" id="memberId" />
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label" for="memberName">Full name</label>
                  <input type="text" class="form-control" id="memberName" required />
                </div>
                <div class="col-md-3">
                  <label class="form-label" for="memberGender">Gender</label>
                  <select class="form-select" id="memberGender" required>
                    <option value="" disabled selected>Select</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                <div class="col-md-3">
                  <label class="form-label" for="memberAge">Age</label>
                  <input type="number" class="form-control" id="memberAge" min="0" />
                </div>
                <div class="col-md-6">
                  <label class="form-label" for="memberPhone">Phone</label>
                  <input type="tel" class="form-control" id="memberPhone" />
                </div>
                <div class="col-md-6">
                  <label class="form-label" for="memberAddress">Address</label>
                  <input type="text" class="form-control" id="memberAddress" />
                </div>
                <div class="col-md-6">
                  <label class="form-label" for="memberMinistry">Ministry</label>
                  <input type="text" class="form-control" id="memberMinistry" />
                </div>
                <div class="col-md-6">
                  <label class="form-label" for="memberRole">Role</label>
                  <input type="text" class="form-control" id="memberRole" />
                </div>
                <div class="col-md-12">
                  <label class="form-label" for="memberNotes">Notes</label>
                  <textarea class="form-control" id="memberNotes" rows="3"></textarea>
                </div>
                <div class="col-md-4">
                  <label class="form-label d-block">Profile photo</label>
                  <div class="d-flex flex-column align-items-center gap-2">
                    <img src="https://api.dicebear.com/8.x/initials/svg?seed=Member" alt="Profile photo preview" id="memberPhotoPreview" />
                    <small class="text-muted">Preview</small>
                  </div>
                </div>
                <div class="col-md-8">
                  <label class="form-label" for="memberPhotoFile">Upload profile photo</label>
                  <input type="file" class="form-control mb-2" id="memberPhotoFile" accept="image/*" />
                  <label class="form-label" for="memberPhoto">Or use a photo URL</label>
                  <input type="url" class="form-control" id="memberPhoto" placeholder="https://" />
                  <small class="text-muted">If both are provided, the uploaded image will be used.</small>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="saveMemberBtn">Save member</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Attendance Modal -->
    <div class="modal fade" id="attendanceModal" tabindex="-1" aria-labelledby="attendanceModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="attendanceModalLabel">Record attendance</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="attendanceForm">
              <input type="hidden" id="attendanceId" />
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label" for="attendanceEvent">Event name</label>
                  <input type="text" class="form-control" id="attendanceEvent" required />
                </div>
                <div class="col-md-3">
                  <label class="form-label" for="attendanceDate">Date</label>
                  <input type="date" class="form-control" id="attendanceDate" required />
                </div>
                <div class="col-md-3">
                  <label class="form-label" for="attendanceGroup">Group</label>
                  <input type="text" class="form-control" id="attendanceGroup" />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="attendancePresent">Present</label>
                  <input type="number" class="form-control" id="attendancePresent" min="0" required />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="attendanceExpected">Expected</label>
                  <input type="number" class="form-control" id="attendanceExpected" min="0" />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="attendanceNotes">Notes</label>
                  <input type="text" class="form-control" id="attendanceNotes" />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="saveAttendanceBtn">Save record</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Finance Modal -->
    <div class="modal fade" id="financeModal" tabindex="-1" aria-labelledby="financeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="financeModalLabel">New finance entry</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="financeForm">
              <input type="hidden" id="financeId" />
              <div class="row g-3">
                <div class="col-md-4">
                  <label class="form-label" for="financeDate">Date</label>
                  <input type="date" class="form-control" id="financeDate" required />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="financeCategory">Category</label>
                  <select class="form-select" id="financeCategory" required>
                    <option value="" disabled selected>Select</option>
                    <option value="First Offering">1st Offering</option>
                    <option value="Second Offering">2nd Offering</option>
                    <option value="Tithe">Tithe</option>
                    <option value="Seed Offering">Seed Offering</option>
                    <option value="Yellow Card">Yellow Card</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="financeAmount">Amount</label>
                  <input type="number" class="form-control" id="financeAmount" min="0" step="0.01" required />
                </div>
                <div class="col-md-12">
                  <label class="form-label" for="financeNotes">Details</label>
                  <input type="text" class="form-control" id="financeNotes" placeholder="Service, speaker, etc." />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="saveFinanceBtn">Save entry</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Group Modal -->
    <div class="modal fade" id="groupModal" tabindex="-1" aria-labelledby="groupModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="groupModalLabel">New group or event</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="groupForm">
              <input type="hidden" id="groupId" />
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label" for="groupName">Name</label>
                  <input type="text" class="form-control" id="groupName" required />
                </div>
                <div class="col-md-6">
                  <label class="form-label" for="groupLeader">Leader</label>
                  <input type="text" class="form-control" id="groupLeader" />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="groupMembers">Members</label>
                  <input type="number" class="form-control" id="groupMembers" min="0" />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="groupNextEvent">Next event date</label>
                  <input type="date" class="form-control" id="groupNextEvent" />
                </div>
                <div class="col-md-4">
                  <label class="form-label" for="groupStatus">Status</label>
                  <select class="form-select" id="groupStatus">
                    <option value="Active">Active</option>
                    <option value="Planning">Planning</option>
                    <option value="On Hold">On Hold</option>
                  </select>
                </div>
                <div class="col-md-12">
                  <label class="form-label" for="groupOverview">Overview</label>
                  <textarea class="form-control" id="groupOverview" rows="3"></textarea>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="saveGroupBtn">Save</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Import Modal -->
    <div class="modal fade" id="importModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="importModalLabel">Import data from CSV</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p class="text-muted">
              Download a template, populate it, and upload to add records in bulk.
            </p>
            <div class="d-flex flex-column flex-md-row gap-3 mb-4">
              <a class="btn btn-outline-primary" href="assets/data/members-template.csv" download
                ><i class="fa-solid fa-file-csv me-2"></i>Members template</a
              >
              <a class="btn btn-outline-primary" href="assets/data/attendance-template.csv" download
                ><i class="fa-solid fa-file-csv me-2"></i>Attendance template</a
              >
              <a class="btn btn-outline-primary" href="assets/data/finance-template.csv" download
                ><i class="fa-solid fa-file-csv me-2"></i>Finance template</a
              >
            </div>
            <form id="importForm">
              <div class="row g-3">
                <div class="col-md-4">
                  <label class="form-label" for="importType">Import type</label>
                  <select class="form-select" id="importType" required>
                    <option value="members">Members</option>
                    <option value="attendance">Attendance</option>
                    <option value="finance">Finance</option>
                  </select>
                </div>
                <div class="col-md-8">
                  <label class="form-label" for="importFile">CSV file</label>
                  <input type="file" class="form-control" id="importFile" accept=".csv" required />
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="processImportBtn">Import</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Approval Modal -->
    <div class="modal fade" id="approvalModal" tabindex="-1" aria-labelledby="approvalModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="approvalModalLabel">Edit approval request</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div id="approvalDetails"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-danger" id="rejectApprovalBtn">Reject</button>
            <button type="button" class="btn btn-primary" id="approveApprovalBtn">Approve</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Notifications Offcanvas -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="notificationsPanel" aria-labelledby="notificationsLabel">
      <div class="offcanvas-header">
        <h5 id="notificationsLabel">Notifications</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div class="list-group" id="notificationsList"></div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.0/dist/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script type="module" src="assets/js/firebase-config.js"></script>
    <script type="module" src="assets/js/app.js"></script>
  </body>
</html>
